<head>
  <title>Deezer Search Engine</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <link rel="icon" href="/favicon.ico?v=2" type="image/x-icon" sizes="16x16 32x32">
</head>

<body>
 {{> main}}
</body>



<template name="main">

  <form id="searchForm">
    <div class="input-group input-group-lg">
      <span class="input-group-btn">
        <div class="" id="remove-button">
          <span title='Remove' class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </div>
      </span>
      <input id="search" type="text" name="text" class="form-control" placeholder="Type a song title" autocomplete="off" value="{{filters.query}}">
      <span class="input-group-btn">
        <button class="btn btn-default" type="submit">
          <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
        </button>
      </span>
    </div>
  </form>

     


  {{#if filters.query}}
  <div id="results">
  
    <table class='sortby-{{sort}} table table-condensed table-striped'>
      <thead>
      <tr>
        <th> 
          Preview
          <span title='Drag and drop to resize' class="resize glyphicon glyphicon-transfer" aria-hidden="true"></span>
        </th>
        <th>
          <span class='sort' title='Click to sort'>Title</span>
          <span class="asc glyphicon glyphicon-sort-by-alphabet" aria-hidden="true"></span>
          <span class="desc glyphicon glyphicon-sort-by-alphabet-alt" aria-hidden="true"></span>
          <span title='Drag and drop to resize' class="resize glyphicon glyphicon-transfer" aria-hidden="true"></span>
        </th>
        <th>
          <span class='sort' title='Click to sort'>Artist</span>
          <span class="asc glyphicon glyphicon-sort-by-alphabet" aria-hidden="true"></span>
          <span class="desc glyphicon glyphicon-sort-by-alphabet-alt" aria-hidden="true"></span>
          <span title='Drag and drop to resize' class="resize glyphicon glyphicon-transfer" aria-hidden="true"></span>
        </th>
        <th>
          <span class='sort' title='Click to sort'>Duration</span>
          <span class="asc glyphicon glyphicon-sort-by-order" aria-hidden="true"></span>
          <span class="desc glyphicon glyphicon-sort-by-order-alt" aria-hidden="true"></span>
          <span title='Drag and drop to resize' class="resize glyphicon glyphicon-transfer" aria-hidden="true"></span>
        </th>
        <th>
          <span class='sort' title='Click to sort'>Album</span>
          <span class="asc glyphicon glyphicon-sort-by-alphabet" aria-hidden="true"></span>
          <span class="desc glyphicon glyphicon-sort-by-alphabet-alt" aria-hidden="true"></span>      
        </th>
      </tr>

      <tr>
        <th>
          <button type="button" class="clear btn btn-default">
            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
            Clear filters
          </button>
        </th>
        <th><input id="title" type="text" class="input-sm form-control filter" placeholder="Filter by title" value="{{filters.title}}">
        </th>
        <th><input id="artist" type="text" class="input-sm form-control filter" placeholder="Filter by artist" value="{{filters.artist}}">
        </th>
        <th></th>
        <th><input id="album" type="text" class="input-sm form-control filter" placeholder="Filter by album" value="{{filters.album}}">
         </th>
        </tr>
      </thead>

      <tbody>
        {{#each songs}}
          <tr class='{{selectedClass}} {{clickedClass}}' id='{{_id}}'>
            <td>
              <audio id="player{{@index}}" class='hidden' src="{{preview}}" preload controls></audio>
              <span class="player glyphicon glyphicon-play" aria-hidden="true"></span>
              <span class="player glyphicon glyphicon-pause hidden" aria-hidden="true"></span>
            </td>
            <td><a href="{{link}}" target="_blank" class="title">{{title}}</a></td>
            <td><img class="photo cover" src="{{artist_photo}}"/>
                <a href="{{artist_link}}" target="_blank" class="artist">{{artist}}</a>
            </td>
            <td><span class="badge">{{toMinutes duration}}</span></td>
            <td><img class="cover" src="{{cover}}"/><span class="album">{{album}}</span></td>
            
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
  


  {{#if moreResults}}
      <div id="showMoreResults" style="margin-left: 25px;">
          <span class="loading">
                <div class="spinner">
                    <div class="rect1"></div>
                    <div class="rect2"></div>
                    <div class="rect3"></div>
                    <div class="rect4"></div>
                    <div class="rect5"></div>
                </div>
          </span>
      </div>
  {{/if}}


{{/if}}

    
    
</template>


